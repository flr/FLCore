<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • FLCore</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">FLCore</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.6.20.9343</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/flr/FLCore/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/flr/FLCore/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.20" id="flcore-2620">FLCore 2.6.20<a class="anchor" aria-label="anchor" href="#flcore-2620"></a></h2>
<div class="section level3">
<h3 id="new-features-2-6-20">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-2-6-20"></a></h3>
<ul><li>ffwd projects an FLStock for a mean fishing mortality (fbar) target.</li>
<li>yearMedians method to calculate median across years.</li>
<li>setunits and setquant inline functions to change units and quant in an FLQuant.</li>
<li>tb(FLStock) will use as time argument the valkue stored in range(object, ‘wtime’) if available.</li>
<li>control generic moved to FLCore.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.19" id="flcore-2619">FLCore 2.6.19<a class="anchor" aria-label="anchor" href="#flcore-2619"></a></h2>
<div class="section level3">
<h3 id="new-features-2-6-19">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-2-6-19"></a></h3>
<ul><li>New method for vb(FLBiol, sel=FLQuant)</li>
<li>mbar(FLStock) returns the mean natural mortality, M, over the fully selected age range.</li>
<li>window(FLlst) will lapply window over all elements.</li>
<li>computeQ(FLindices, FLStock, FLQuants) computes index.q from indices and fit.</li>
<li>comine() method now available for all (or most) classes.</li>
<li>New SRR model, bevholtisg, implements a sigmoidal Beverton-Holt model.</li>
<li>Class FLStockR contains slots for reference points (<a href="https://github.com/refpts" class="external-link">@refpts</a>, FLPar) and stock recruitment relationship (<a href="https://github.com/sr" class="external-link">@sr</a>, predictModel).</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-6-19">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-2-6-19"></a></h3>
<ul><li>simplify(FLStock) recoded in a simpler way supported by noseason/unit/area functions.</li>
<li>Ensure harvest(FLQuant) returns 0 when catch or n are 0.</li>
<li>Further improvements to simplify. nounit, noseason and noarea do nmot call harvest().</li>
<li>qapply now works properly in noseason.</li>
<li>fwdWindow(FLBiol) did not respect residuals FLQuant sometimes.</li>
</ul></div>
<div class="section level3">
<h3 id="user-visible-changes-2-6-19">USER-VISIBLE CHANGES<a class="anchor" aria-label="anchor" href="#user-visible-changes-2-6-19"></a></h3>
<ul><li>FLStock() constructor defaults to ‘age’ as quant.</li>
<li>append(FLQuant, FLQuant) will propagate the first object if required.</li>
<li>noseason() can either use weighted or unweighted wt means.</li>
<li>Accessor and replacement methods sr and sr&lt;- operate directly on the predictModel in <a href="mailto:FLBiol@rec" class="email">FLBiol@rec</a>. rec() returns the observation, from <a href="https://github.com/n" class="external-link">@n</a>[1,], and rec.hat the prediction from the model params.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.18" id="flcore-2618">FLCore 2.6.18<a class="anchor" aria-label="anchor" href="#flcore-2618"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-2-6-18">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-2-6-18"></a></h3>
<ul><li>survey(FLStock, FLIndex) returns full FLIndex object.</li>
<li>rbind(FLPar, FLPar) will keep dimnames names to those of first element, e.g. ‘refpts’</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.17" id="flcore-2617">FLCore 2.6.17<a class="anchor" aria-label="anchor" href="#flcore-2617"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-2-6-17">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-2-6-17"></a></h3>
<ul><li>qname in data.frame from FLPars is now a factor to not brake geom_flpar.<br></li>
<li>sel as argument in survey(FLStock, FLIndex).</li>
<li>vb(FLStock) now uses directly catch.sel().</li>
<li>segreg simplified to play better with plots.</li>
</ul></div>
<div class="section level3">
<h3 id="user-visible-changes-2-6-17">USER-VISIBLE CHANGES<a class="anchor" aria-label="anchor" href="#user-visible-changes-2-6-17"></a></h3>
<ul><li>Added g (gram) as recognized uom</li>
<li>Added uoms operations for g (gram).</li>
<li>New fwd(FLStock) method projects from first year N for F and M.</li>
<li>Renamed fwd(FLStock) as adjust.</li>
<li>Reformulated survey() methods, now works for both FLIndex and FLIndexBiomass.</li>
<li>oem(biomass=TRUE) returns an aggregated index ib biomass.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.16" id="flcore-2616">FLCore 2.6.16<a class="anchor" aria-label="anchor" href="#flcore-2616"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-2-6-16">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-2-6-16"></a></h3>
<ul><li>uom() does not strip spaces inside the string, makes ‘1000 t’ work.</li>
<li>Products of t and multiples of 10 return correct units <a href="https://github.com/flr/FLCore/issues/62" class="external-link">#62</a></li>
<li>getPlural ignored derived classes, like FLIndexBiomass, now dispatches on FLI and FLS.</li>
<li>harvest(FLQ) now runs optimize for one year objects, handles well iters.</li>
<li>computeCatch(FLStock) propagates slots if not matching. Logical subsetting fails otherwise.</li>
<li>runstest made safer.</li>
<li>vb(FLStock) now uses directly catch.sel().</li>
</ul></div>
<div class="section level3">
<h3 id="user-visible-changes-2-6-16">USER-VISIBLE CHANGES<a class="anchor" aria-label="anchor" href="#user-visible-changes-2-6-16"></a></h3>
<ul><li>uom() is not called anymore on FLQuant - numeric operations.</li>
</ul></div>
<div class="section level3">
<h3 id="new-features-2-6-16">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-2-6-16"></a></h3>
<ul><li>survivors(FLStock) function calculates the population survivors and returns them as an FLQuant.</li>
<li>sr(FLBiol) to access full <a href="https://github.com/rec" class="external-link">@rec</a> slot.</li>
<li>Methods have been defined for aithmetic operations element by element between two FLQuants objects, and for dividing each of an FLQuants by each of an FLPars of the same length.</li>
<li>fwdWindow(FLStock) method to extend with same syntax as for other classes.</li>
<li>fwd(FLStock) method projects forward from iniial timestep to reconstruct abundances from F and M.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.15" id="flcore-2615">FLCore 2.6.15<a class="anchor" aria-label="anchor" href="#flcore-2615"></a></h2>
<div class="section level3">
<h3 id="user-visible-changes-2-6-15">USER-VISIBLE CHANGES<a class="anchor" aria-label="anchor" href="#user-visible-changes-2-6-15"></a></h3>
<ul><li>FLCore now imports ggplot2 to avoid the clash over the %+% operator veings defined in both packages. FLCore now uses ggplot::%+% as basis for the method generic. Only this function is imported, as FLCore does not use any other ggplot2 method.</li>
<li>qapply() now has a simplify argument to call unlist() on the output and return a vector. Deafults to simplify=FALSE</li>
<li>windows accepts a negative value for end and will substract that number of years from the object.</li>
<li>metrics() can now handle formulas combining object functions and vector or FLPar elements, e.g. metrics(ple4, ~ssb/Blim, FLPar(Blim=300000))</li>
</ul></div>
<div class="section level3">
<h3 id="new-features-2-6-15">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-2-6-15"></a></h3>
<ul><li>mohnMatrix to construct a table of metrics to compute Mohn’s rho from an FLStocks object obtained from a restrospective analysis.</li>
<li>readVPAInterCatch creates an FLQuant from a VPA file in the format exported by ICES Intercatch system.</li>
<li>fwd(FLQuant) to move one year forward a population vector.</li>
<li>fwd(FLStock) calculates survivors and places them one year one age ahead.</li>
<li>qapply can simplify output, calling unlist.</li>
<li>divide() separates object along iters into list.</li>
<li>cv(FLQuantPoint) returns std/mean.</li>
<li>New as.data.frame method for FLQuantPoint.</li>
<li>‘1000 t’ is now accepted by uom().</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-6-15">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-2-6-15"></a></h3>
<ul><li>iter&lt;- method for FLBiol and predictModel.</li>
<li>logrstandard can now deal with NaN</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.14" id="flcore-2614">FLCore 2.6.14<a class="anchor" aria-label="anchor" href="#flcore-2614"></a></h2>
<div class="section level3">
<h3 id="new-features-2-6-14">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-2-6-14"></a></h3>
<ul><li>intersect method called on two FLQuants returns them subset to only the common dimension names.</li>
<li>standardUnits provides a possible set of standard units of measurement in complex object. Set now for FLS/FLStock, using 1000, kg, t, m, and f, as in data(ple4).</li>
<li>append method for FLQuant and FLStock adss an object to another by year dimnames or ar year specified by ‘after’.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.12" id="flcore-2612">FLCore 2.6.12<a class="anchor" aria-label="anchor" href="#flcore-2612"></a></h2>
<div class="section level3">
<h3 id="deprecated--defunct-2-6-12">DEPRECATED &amp; DEFUNCT<a class="anchor" aria-label="anchor" href="#deprecated--defunct-2-6-12"></a></h3>
<ul><li>flc2flq has been deprecated. Use as(object, ‘FLQuant’) instead.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-6-12">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-2-6-12"></a></h3>
<ul><li>Fix to iter(vector) after addition of iterators dependency.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.11" id="flcore-2611">FLCore 2.6.11<a class="anchor" aria-label="anchor" href="#flcore-2611"></a></h2>
<div class="section level3">
<h3 id="new-features-2-6-11">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-2-6-11"></a></h3>
<ul><li>dimnames(FLComp) method defined, returns dimnames corresponding to maximum length per dimension.</li>
</ul></div>
<div class="section level3">
<h3 id="user-visible-changes-2-6-11">USER-VISIBLE CHANGES<a class="anchor" aria-label="anchor" href="#user-visible-changes-2-6-11"></a></h3>
<ul><li>combine(FLQuant) and combine (FLComp) can now accept multiple objects, useful for using with foreach’s .multicombine.</li>
<li>Replacement method for FLlst elements ([[&lt;-) now allows extending it.</li>
<li>Dependency added on iterators package. iter() method was overwritten when iterators was loaded.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-6-11">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-2-6-11"></a></h3>
<ul><li>
<a href="mailto:FLStock@mat" class="email">FLStock@mat</a> conversion to <a href="mailto:FLBiol@mat" class="email">FLBiol@mat</a>/fec now works with NAs</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.10" id="flcore-2610">FLCore 2.6.10<a class="anchor" aria-label="anchor" href="#flcore-2610"></a></h2>
<div class="section level3">
<h3 id="new-features-2-6-10">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-2-6-10"></a></h3>
<ul><li>window(FLQuantDistr) method added to deal with <a href="https://github.com/var" class="external-link">@var</a> slot</li>
<li>Method %*% for FLQuants,FLPar added</li>
<li>Better handling of currency units, so far for EUR and USD. Symbols are accepted</li>
<li>show() for FLComp-derived classes will call summary instead of printDefault. print() will still show the full object</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-6-10">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-2-6-10"></a></h3>
<ul><li>propagate(FLPar) placed the original object in the matching dimname$iter, instead of iter=1</li>
<li>Methods for %^% and ^ did not deal properly with units. Exponentation now returns the units of the base</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.9" id="flcore-269">FLCore 2.6.9<a class="anchor" aria-label="anchor" href="#flcore-269"></a></h2>
<div class="section level3">
<h3 id="new-features-2-6-9">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-2-6-9"></a></h3>
<ul><li>survSRR implements Taylor et al (2013, doi: 10.1016/j.fishres.2012.04.018) model for low fecundity species.</li>
<li>ssf(FLStock) method returns the Spawning Stock Fecundity, as stock.n times mat, where mat holds fecundity by individual</li>
<li>spread() function to make available inside a function a list of parameters</li>
</ul></div>
<div class="section level3">
<h3 id="user-visible-changes-2-6-9">USER-VISIBLE CHANGES<a class="anchor" aria-label="anchor" href="#user-visible-changes-2-6-9"></a></h3>
<ul><li>Added calcF=TRUE to simplify(), to speed it up when harvest is not needed</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.7" id="flcore-267">FLCore 2.6.7<a class="anchor" aria-label="anchor" href="#flcore-267"></a></h2>
<div class="section level3">
<h3 id="new-features-2-6-7">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-2-6-7"></a></h3>
<ul><li>Added iterProb(FLQuant) method</li>
</ul></div>
<div class="section level3">
<h3 id="user-visible-changes-2-6-7">USER-VISIBLE CHANGES<a class="anchor" aria-label="anchor" href="#user-visible-changes-2-6-7"></a></h3>
<ul><li>writeADMB now accepts append=TRUE/FALSE</li>
<li>Added generics from mpb and FLRP</li>
<li>Improved simplify(FLStock)</li>
<li>predict(predictModel) now accepts numeric vectors and FLPar objects in …</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-6-7">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-2-6-7"></a></h3>
<ul><li>Corrected simplify(FLStock) to use unweighted means for wts</li>
<li>Added … to msy et al generics</li>
<li>Added numeric code 23 for bevholtss3</li>
<li>BUG in ‘[’, wrong pgroup if i=-1</li>
<li>Corrected simplify(FLStock) to use unweighted means for wt</li>
<li>Bug in uom for FLQ,numeric when numeric was of length &gt; 1</li>
<li>Bug when dims was only one of unit or area</li>
<li>Convert numeric to uom in Arith only if length==1</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.6" id="flcore-266">FLCore 2.6.6<a class="anchor" aria-label="anchor" href="#flcore-266"></a></h2>
<div class="section level3">
<h3 id="new-features-2-6-6">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-2-6-6"></a></h3>
<ul><li>window(FLStocks) method to apply same window call across all elements.</li>
<li>combine(FLStocks) method collapses all elements into a single FLStock object. with as many iters as elements in the list, must all have 1 iter.</li>
<li>combine(FLQuants, FLQuants) merges them one element at a time.</li>
<li>drop(FLQuant) returns the result of a call to base::drop on @.Data.</li>
<li>New verify() method for complex classes evaluates object against a set of rules. Checks content rather than structure, as validity functions do.</li>
<li>New ruleset method to return standard verify rules per class.</li>
<li>window() and expand() methods for FLPar.</li>
<li>iter() method for FLlst, lapplies it along the list</li>
</ul></div>
<div class="section level3">
<h3 id="user-visible-changes-2-6-6">USER-VISIBLE CHANGES<a class="anchor" aria-label="anchor" href="#user-visible-changes-2-6-6"></a></h3>
<ul><li>propagate(FLPar) to return object if iter == iters <a href="https://github.com/flr/FLCore/issues/45" class="external-link">#45</a>.</li>
<li>Ratios of numbers written in alternative ways now also return an empty character.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-6-6">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-2-6-6"></a></h3>
<ul><li>dimnames&lt;- for FLStock with no ages failed when changing age name <a href="https://github.com/flr/FLCore/issues/42" class="external-link">#42</a>.</li>
<li>uom can now handle better products with units containing divisions.</li>
<li>coerce(FLBiol, FLBiolcpp) will now extend srparam to have as many years as the object, to allow params per time period to be passed and used.</li>
<li>coerce(FLBiol, FLBiolcpp) now windows FLPar if year is given.</li>
<li>trim(FLBiol) is able to handle predictModel slots.</li>
<li>[[&lt;- and $&lt;- FLlst now work on extended classes, like predictModel.</li>
<li>predict(predictModel) now handles correctly iters and extra FLPar dimensions.</li>
</ul></div>
<div class="section level3">
<h3 id="deprecated--defunct-2-6-6">DEPRECATED &amp; DEFUNCT<a class="anchor" aria-label="anchor" href="#deprecated--defunct-2-6-6"></a></h3>
<ul><li>catchSel is to be substituted by catch.sel, use the later instead</li>
<li>wt&lt;-(FLStock) is to be deprecated, use the individual accessor methods instead</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.5" id="flcore-265">FLCore 2.6.5<a class="anchor" aria-label="anchor" href="#flcore-265"></a></h2>
<div class="section level3">
<h3 id="new-features-2-6-5">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-2-6-5"></a></h3>
<ul><li>New harvest method for stock.n, catch.n and m, by minimizing diff in catch.</li>
<li>survey and cpue methods to generate observations from an operating model</li>
<li>knit_print.FLQuant method for the printr package, better printing of FLQuant objects in knitr documents</li>
</ul></div>
<div class="section level3">
<h3 id="user-visible-changes-2-6-5">USER-VISIBLE CHANGES<a class="anchor" aria-label="anchor" href="#user-visible-changes-2-6-5"></a></h3>
<ul><li>FLStock creator uses empty object for sizing, keeps iters but drops them if object(s) are named.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-6-5">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-2-6-5"></a></h3>
<ul><li>Add tiny value to landings and discards to ensure no division by zero in computeCatch.</li>
<li>Added reduced version to print(FLPar, reduced=TRUE) to reuse in summary methods</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.4" id="flcore-264">FLCore 2.6.4<a class="anchor" aria-label="anchor" href="#flcore-264"></a></h2>
<div class="section level3">
<h3 id="new-features-2-6-4">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-2-6-4"></a></h3>
<ul><li>
<code>%=%</code> operator to modify on thed fly the content of an FLQuant/FLArray. Object structure can be reused with contents being changed, e.g. FLQuant(2, dim=c(3,10)) %=% 0 will return the object with zeros.</li>
<li>FLModelSim and FLModelSims new classes</li>
<li>[&lt;- FLArray now accepts an input FLQuant and keeps the structure, still recyling as appropriate.</li>
<li>New FLStockLen class for length-based stock data and results.</li>
<li>New tS and tS&lt;- method to extract and replace individual time steps in an object with years and seasons</li>
<li>tsp method for FLQuant returns ‘tsp’ attribute: start, end and frequency (seasons)</li>
<li>Arith method for FLQuant is now unit-aware, see ?units</li>
<li>wireframe method from lattice now available for FLQuant</li>
<li>[ method for FLQuantDistr</li>
<li>FLIndexBiomass class for biomass-based indices of abundance.</li>
<li>Class FLBiolcpp for interfacing with CPP</li>
<li>New catch.sel method for FLStock, computed as proportion across ages of harvest</li>
<li>predictMosdel class for use in FLBiol</li>
<li>A set of aliases for the class creators is now available. Should be used only when working interactively.</li>
<li>Added dim method to FLQuant and FLStock, ensures an unnamed vector is returned</li>
<li>Added $ method for FLQuant, operates along ‘quant’ dimension</li>
<li>New method metrics to compute from list or function</li>
<li>Added vb method for vulnerable biomass</li>
</ul></div>
<div class="section level3">
<h3 id="user-visible-changes-2-6-4">USER-VISIBLE CHANGES<a class="anchor" aria-label="anchor" href="#user-visible-changes-2-6-4"></a></h3>
<ul><li>model.frame(FLComp) now has an mcf=TRUE argument to correct slots of different dim</li>
<li>computeLogLik method added to FLModel. Will return a logLik object calculated with the data and params in the object</li>
<li>New iterMedians(FLQuant) method to applky median along iter dim</li>
<li>coerce method for data.frame to FLPar now assumes a 2D structure with iters as rows and params as columns</li>
<li>rlnorm(FLPar, …) and rnorm(FLPar, …) now available</li>
<li>mvrnorm(numeric, FLQuant) and mvrnorm(numeric, FLQuant, matrix) now available</li>
<li>propagate(FLComp) now propagates FLPar slots as well</li>
<li>FLFleet, FLMetier and FLCatch classes (plus their plurals) and methods have been moved to the FLFleet package</li>
<li>ifelse has now been definedx for test=“FLQuant”</li>
<li>as.data.frame for FLQuant(s) and FLComp now has an option cohort=FALSE to return a column named cohort, calculated as year-age. Ony for age-quanted objects</li>
<li>getPlural is now an S4 method dispatching on singular classes and returning the name of the corresponding FLlst-based class</li>
<li>as.data.frame(FLQuants) returns qname as factor with levels in the order of the input object</li>
<li>modified quantile(FLQuant) so dimnames in iter follow quantile(array), e.g. 50%</li>
<li>tail method for FLQuant, operates by default along the year dimension.</li>
<li>deprecated sr function is now a method to return aligned stock/recruits FLQuants from an FLStock</li>
<li>propagate(FLComp) accepts extending an object to existing nu mber of iters for all other slots of length 1.</li>
<li>trim(FLS) u[pdates min/maxfbar if needed</li>
<li>transform(FLComp) now accepts a named FLQuants object as substitution argument (…)</li>
<li>FLQuants() now accepts an FLCOMP object and a list of names/functions to be used to extract individual FLQuant(s)</li>
<li>FLPar validity now checks that content is numeric. Default frist dimname is now ‘params’</li>
<li>FLIndices class can take both FLIndex and FLIndexBiomass objects</li>
<li>mean.lifespan renamed as meanLifespan to avoid S3 conflict</li>
<li>uom() returns kg for 1 * kg</li>
<li>expand() now stops if new dimnames do not contain old ones and these were of length greater than 1</li>
<li>seasonSums is now based on colSums and aperm, 75 times faster</li>
<li>new lattice-based plot(FLStocks)</li>
<li>Added dimensions line to summary(FLComp)</li>
<li>Defining fwd generic here so it can be used by mpb and Flash(er)</li>
<li>Validity for FLlst is now more flexible to accomodate children classes like FLIndexBiomass</li>
<li>Dropped redundant Sums and Products methods for FLQuants, use Reduce(“+”, …) instead</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-6-4">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-2-6-4"></a></h3>
<ul><li>coerce of data.frame to FLPar deals rightly with multiple params and no iters in wide format.</li>
<li>iterMeans(FLQuant) was not operating along the 6th dim</li>
<li>coerce from FLPar to data.frame now works as expected</li>
<li>Added check for range names to FLComp class validity. Elements must be named with non-empty strings and contain, at least, min, max, minyear and maxyear</li>
<li>coerce from data.frame to FLPar now handles correctly iters</li>
<li>apply(FLArray) did not keep the object units</li>
<li>rnorm, rlnorm and rpois did not keep tje object units</li>
<li>code2name for FLSR did not reocngize properly bevholtSV</li>
<li>fmle() can now use method=“Brent” for one parameter problems</li>
<li>New ple4.biol with data up to 2008. No integer value</li>
<li>prototype object for FLComp VIRTUAl class has name as character(1)</li>
<li>as.FLQuant(df) failed on objects with no ‘year’ column</li>
<li>propagate(FLQuant) now accepts iter == dim[6]</li>
<li>Faulty comparison in expand(FLArray) fixed <a href="https://github.com/flr/FLCore/issues/7" class="external-link">#7</a></li>
<li>Wrong test in validity for FLModelSim</li>
<li>Fixed bug in FLPar %% FLPar when objects were actually equal in dims, always returned product</li>
<li>quantile(FLQuant) returned oject with wrong dimensions</li>
<li>FLPar(missing) now creates objects with right number of iters, works when used with call()</li>
<li>lapply(FLst) works on zero length object, does nothing</li>
<li>square operators for FLlst return the right names, desc and lock</li>
<li>Attributes of FLPar maintained by [ and [&lt;-</li>
<li>as(data.frame, ‘FLPar’) transposed objects without need</li>
<li>[&lt;- FLlst now respects names when list elements are added</li>
<li>rbind(FLPar) should work better now</li>
<li>
<a href="mailto:predictModel@model" class="email">predictModel@model</a> slot now has by default an emptyenv()</li>
<li>uom is now safer to non-strings by using sprintf() for conversion</li>
<li>Quick fix for readIndicesAdapt dimensions</li>
<li>apply(FLArray) did not return an FLQuant if function did not change the dimensions of the object</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-2-6-4">DOCUMENTATION<a class="anchor" aria-label="anchor" href="#documentation-2-6-4"></a></h3>
<ul><li>All of the documentation has been converted to roxygen2.</li>
</ul></div>
<div class="section level3">
<h3 id="deprecated--defunct-2-6-4">DEPRECATED &amp; DEFUNCT<a class="anchor" aria-label="anchor" href="#deprecated--defunct-2-6-4"></a></h3>
<ul><li>FLFleet, FLMetier and FLCatch classes (plus their plurals) and methods have been moved to the FLFleet package</li>
</ul></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Iago Mosqueira, Laurence T. Kell, Philippe Grosjean.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

