<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Array objects (e.g. FLQuant or FLQuants) are divided along a single
dimnension following a given index or expression, an aggregating
function is applied to each subset, and the results are joined again.
Data can be added, for example, by decade or for two age groups."><title>Group objects over some index by applying a function over a single dimension — group • FLCore</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Group objects over some index by applying a function over a single dimension — group"><meta property="og:description" content="Array objects (e.g. FLQuant or FLQuants) are divided along a single
dimnension following a given index or expression, an aggregating
function is applied to each subset, and the results are joined again.
Data can be added, for example, by decade or for two age groups."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">FLCore</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.6.19.9111</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/flr/FLCore/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Group objects over some index by applying a function over a single dimension</h1>
      <small class="dont-index">Source: <a href="https://github.com/flr/FLCore/blob/HEAD/R/genericMethods.R" class="external-link"><code>R/genericMethods.R</code></a>, <a href="https://github.com/flr/FLCore/blob/HEAD/R/FLQuant.R" class="external-link"><code>R/FLQuant.R</code></a></small>
      <div class="d-none name"><code>group.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Array objects (e.g. FLQuant or FLQuants) are divided along a single
dimnension following a given index or expression, an aggregating
function is applied to each subset, and the results are joined again.
Data can be added, for example, by decade or for two age groups.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">group</span><span class="op">(</span><span class="va">x</span>, <span class="va">FUN</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for FLQuant,`function`</span></span>
<span><span class="fu">group</span><span class="op">(</span><span class="va">x</span>, FUN <span class="op">=</span> <span class="va">sum</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>An object to group.</p></dd>


<dt>FUN</dt>
<dd><p>A function to apply along the chosen dimension, defaults to 'sum'.</p></dd>


<dt>...</dt>
<dd><p>An expression or indexing vector, named as the chosen dimension. Extra arguments to FUN can also be provided, but cannmot match names in x.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A single object with reduced dimensionality.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Iago Mosqueira (WMR)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">ple4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Add catch-at-age along two age groups, 'juv'eniles and 'adu'lts</span></span></span>
<span class="r-in"><span><span class="fu">group</span><span class="op">(</span><span class="fu"><a href="accessors.html">catch.n</a></span><span class="op">(</span><span class="va">ple4</span><span class="op">)</span>, <span class="va">sum</span>, age<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'juv'</span>, <span class="st">'juv'</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">'adu'</span>, <span class="fl">8</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An object of class "FLQuant"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , unit = unique, season = all, area = unique</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   1957    1958    1959    1960    1961    1962    1963    1964    1965   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   juv   82844  144028  220590  250246  240235  212994  163538  284592  488725</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   adu  217709  216081  229525  263171  300448  323824  375336  356155  320567</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   1966    1967    1968    1969    1970    1971    1972    1973    1974   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   juv  150830  136276  135024  197136  251958  200146  144800  322925  524851</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   adu  634678  479953  396629  324414  263583  266412  285149  264431  221214</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   1975    1976    1977    1978    1979    1980    1981    1982    1983   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   juv  424841  354998  453126  483173  435736  446896  455098  628425  775178</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   adu  349358  352906  316769  286774  315207  303644  303591  333781  335564</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   1984    1985    1986    1987    1988    1989    1990    1991    1992   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   juv  645330  763038 1500360 1489939  853142  683898  503947  446701  410487</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   adu  501451  501309  484611  554359 1016274  795393  685345  560852  485903</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   1993    1994    1995    1996    1997    1998    1999    2000    2001   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   juv  316124  221653  255472  337605  528114  793612  278299  267005  285233</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   adu  426742  361297  282531  268988  366551  360498  637135  443016  365948</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   2002    2003    2004    2005    2006    2007    2008    2009    2010   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   juv  445588  623612  382435  443476  323632  368491  415136  344764  349579</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   adu  375610  288089  418011  247371  293727  259470  236503  280668  288770</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   2011    2012    2013    2014    2015    2016    2017   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   juv  339133  303843  306544  418660  354316  242102  258717</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   adu  310395  382591  449713  437356  442764  469107  397382</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> units:  1000 </span>
<span class="r-in"><span><span class="co"># An expression can use based on dimnames</span></span></span>
<span class="r-in"><span><span class="fu">group</span><span class="op">(</span><span class="fu"><a href="accessors.html">catch.n</a></span><span class="op">(</span><span class="va">ple4</span><span class="op">)</span>, <span class="va">sum</span>, age<span class="op">=</span><span class="va">age</span> <span class="op">&lt;</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An object of class "FLQuant"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , unit = unique, season = all, area = unique</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age     1957    1958    1959    1960    1961    1962    1963    1964    1965   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TRUE    82844  144028  220590  250246  240235  212994  163538  284592  488725</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   FALSE  217709  216081  229525  263171  300448  323824  375336  356155  320567</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age     1966    1967    1968    1969    1970    1971    1972    1973    1974   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TRUE   150830  136276  135024  197136  251958  200146  144800  322925  524851</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   FALSE  634678  479953  396629  324414  263583  266412  285149  264431  221214</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age     1975    1976    1977    1978    1979    1980    1981    1982    1983   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TRUE   424841  354998  453126  483173  435736  446896  455098  628425  775178</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   FALSE  349358  352906  316769  286774  315207  303644  303591  333781  335564</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age     1984    1985    1986    1987    1988    1989    1990    1991    1992   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TRUE   645330  763038 1500360 1489939  853142  683898  503947  446701  410487</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   FALSE  501451  501309  484611  554359 1016274  795393  685345  560852  485903</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age     1993    1994    1995    1996    1997    1998    1999    2000    2001   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TRUE   316124  221653  255472  337605  528114  793612  278299  267005  285233</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   FALSE  426742  361297  282531  268988  366551  360498  637135  443016  365948</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age     2002    2003    2004    2005    2006    2007    2008    2009    2010   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TRUE   445588  623612  382435  443476  323632  368491  415136  344764  349579</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   FALSE  375610  288089  418011  247371  293727  259470  236503  280668  288770</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age     2011    2012    2013    2014    2015    2016    2017   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TRUE   339133  303843  306544  418660  354316  242102  258717</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   FALSE  310395  382591  449713  437356  442764  469107  397382</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> units:  1000 </span>
<span class="r-in"><span><span class="co"># Mean by lustrum, by using 'year - year %% 5'</span></span></span>
<span class="r-in"><span><span class="fu">group</span><span class="op">(</span><span class="fu"><a href="accessors.html">catch.n</a></span><span class="op">(</span><span class="va">ple4</span><span class="op">)</span>, <span class="va">mean</span>, year <span class="op">=</span> <span class="va">year</span> <span class="op">-</span> <span class="va">year</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An object of class "FLQuant"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , unit = unique, season = all, area = unique</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age  1955      1960      1965      1970      1975      1980      1985     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   71809.28  97610.97  56284.64 142896.67 236660.46 287021.52 522676.11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2   77344.61 132710.09 165313.63 146039.20 193714.22 303163.94 535399.28</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3   70667.84 134317.60 177299.86  83950.61 151557.10 200469.06 364165.16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4   53897.38  77484.89 102811.81  54227.97  77645.40  79912.77 183142.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5   37029.27  42708.80  65547.37  35383.39  42043.43  32622.44  67188.57</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   6   18875.79  26412.29  41723.43  22399.67  22713.38  15434.63  29589.46</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   7   11646.69  13542.50  14706.31  21814.34  10821.45   9640.98  12151.84</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   8    8068.86   8236.27   8886.16  13606.39   4789.93   6739.11   5394.17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   9    6492.95   5485.61   5790.72   9201.28   3279.71   3588.63   2705.11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   10  14426.07  15598.83  14482.59  19574.23  11352.33   7198.61   6052.75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age  1990      1995      2000      2005      2010      2015     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1  151861.64 137447.51 165348.82 166915.67 161601.51 123926.27</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2  227920.56 301172.80 235425.77 212184.16 181950.43 161118.88</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3  214340.28 240942.90 187281.98 136159.64 163859.80 161994.17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4  122344.54  71372.58 106119.37  68691.06 108733.54 123839.27</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5   88976.98  33588.09  50224.62  30263.20  53585.84  73302.27</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   6   44095.10  17259.15  21675.79  15752.57  24526.45  39482.76</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   7   17571.71   8772.14   7917.82   7192.23  11668.61  18795.52</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   8    7692.84   4637.68   2477.50   2995.50   4801.66   7518.12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   9    4034.36   2399.99    747.03    962.01   2072.67   3159.34</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   10   4971.86   4168.02   1690.74   1531.73   4516.31   8326.26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> units:  1000 </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Iago Mosqueira, Laurence T. Kell, Philippe Grosjean.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

