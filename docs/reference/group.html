<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Group objects over some index by applying a function over a single dimension — group • FLCore</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Group objects over some index by applying a function over a single dimension — group"><meta name="description" content="Array objects (e.g. FLQuant or FLQuants) are divided along a single
dimnension following a given index or expression, an aggregating
function is applied to each subset, and the results are joined again.
Data can be added, for example, by decade or for two age groups."><meta property="og:description" content="Array objects (e.g. FLQuant or FLQuants) are divided along a single
dimnension following a given index or expression, an aggregating
function is applied to each subset, and the results are joined again.
Data can be added, for example, by decade or for two age groups."><meta property="og:image" content="/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">FLCore</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.6.20.9340</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/flr/FLCore/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Group objects over some index by applying a function over a single dimension</h1>
      <small class="dont-index">Source: <a href="https://github.com/flr/FLCore/blob/HEAD/R/genericMethods.R" class="external-link"><code>R/genericMethods.R</code></a>, <a href="https://github.com/flr/FLCore/blob/HEAD/R/FLQuant.R" class="external-link"><code>R/FLQuant.R</code></a></small>
      <div class="d-none name"><code>group.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Array objects (e.g. FLQuant or FLQuants) are divided along a single
dimnension following a given index or expression, an aggregating
function is applied to each subset, and the results are joined again.
Data can be added, for example, by decade or for two age groups.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">group</span><span class="op">(</span><span class="va">x</span>, <span class="va">FUN</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'FLQuant,function'</span></span>
<span><span class="fu">group</span><span class="op">(</span><span class="va">x</span>, FUN <span class="op">=</span> <span class="va">sum</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An object to group.</p></dd>


<dt id="arg-fun">FUN<a class="anchor" aria-label="anchor" href="#arg-fun"></a></dt>
<dd><p>A function to apply along the chosen dimension, defaults to 'sum'.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>An expression or indexing vector, named as the chosen dimension. Extra arguments to FUN can also be provided, but cannmot match names in x.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A single object with reduced dimensionality.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Iago Mosqueira (WMR)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">ple4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Add catch-at-age along two age groups, 'juv'eniles and 'adu'lts</span></span></span>
<span class="r-in"><span><span class="fu">group</span><span class="op">(</span><span class="fu"><a href="accessors.html">catch.n</a></span><span class="op">(</span><span class="va">ple4</span><span class="op">)</span>, <span class="va">sum</span>, age<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'juv'</span>, <span class="st">'juv'</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">'adu'</span>, <span class="fl">8</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An object of class "FLQuant"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , unit = unique, season = all, area = unique</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   1957    1958    1959    1960    1961    1962    1963    1964    1965   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   juv   82844  144028  220590  250246  240235  212994  163538  284592  488725</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   adu  217709  216081  229525  263171  300448  323824  375336  356155  320567</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   1966    1967    1968    1969    1970    1971    1972    1973    1974   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   juv  150830  136276  135024  197136  251958  200146  144800  322925  524851</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   adu  634678  479953  396629  324414  263583  266412  285149  264431  221214</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   1975    1976    1977    1978    1979    1980    1981    1982    1983   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   juv  424841  354998  453126  483173  435736  446896  455098  628425  775178</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   adu  349358  352906  316769  286774  315207  303644  303591  333781  335564</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   1984    1985    1986    1987    1988    1989    1990    1991    1992   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   juv  645330  763038 1500360 1489939  853142  683898  503947  446701  410487</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   adu  501451  501309  484611  554359 1016274  795393  685345  560852  485903</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   1993    1994    1995    1996    1997    1998    1999    2000    2001   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   juv  316124  221653  255472  337605  528114  793612  278299  267005  285233</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   adu  426742  361297  282531  268988  366551  360498  637135  443016  365948</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   2002    2003    2004    2005    2006    2007    2008    2009    2010   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   juv  445588  623612  382435  443476  323632  368491  415136  344764  349579</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   adu  375610  288089  418011  247371  293727  259470  236503  280668  288770</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   2011    2012    2013    2014    2015    2016    2017   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   juv  339133  303843  306544  418660  354316  242102  258717</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   adu  310395  382591  449713  437356  442764  469107  397382</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> units:  1000 </span>
<span class="r-in"><span><span class="co"># An expression can use based on dimnames</span></span></span>
<span class="r-in"><span><span class="fu">group</span><span class="op">(</span><span class="fu"><a href="accessors.html">catch.n</a></span><span class="op">(</span><span class="va">ple4</span><span class="op">)</span>, <span class="va">sum</span>, age<span class="op">=</span><span class="va">age</span> <span class="op">&lt;</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An object of class "FLQuant"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , unit = unique, season = all, area = unique</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age     1957    1958    1959    1960    1961    1962    1963    1964    1965   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TRUE    82844  144028  220590  250246  240235  212994  163538  284592  488725</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   FALSE  217709  216081  229525  263171  300448  323824  375336  356155  320567</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age     1966    1967    1968    1969    1970    1971    1972    1973    1974   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TRUE   150830  136276  135024  197136  251958  200146  144800  322925  524851</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   FALSE  634678  479953  396629  324414  263583  266412  285149  264431  221214</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age     1975    1976    1977    1978    1979    1980    1981    1982    1983   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TRUE   424841  354998  453126  483173  435736  446896  455098  628425  775178</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   FALSE  349358  352906  316769  286774  315207  303644  303591  333781  335564</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age     1984    1985    1986    1987    1988    1989    1990    1991    1992   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TRUE   645330  763038 1500360 1489939  853142  683898  503947  446701  410487</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   FALSE  501451  501309  484611  554359 1016274  795393  685345  560852  485903</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age     1993    1994    1995    1996    1997    1998    1999    2000    2001   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TRUE   316124  221653  255472  337605  528114  793612  278299  267005  285233</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   FALSE  426742  361297  282531  268988  366551  360498  637135  443016  365948</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age     2002    2003    2004    2005    2006    2007    2008    2009    2010   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TRUE   445588  623612  382435  443476  323632  368491  415136  344764  349579</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   FALSE  375610  288089  418011  247371  293727  259470  236503  280668  288770</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age     2011    2012    2013    2014    2015    2016    2017   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TRUE   339133  303843  306544  418660  354316  242102  258717</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   FALSE  310395  382591  449713  437356  442764  469107  397382</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> units:  1000 </span>
<span class="r-in"><span><span class="co"># Mean by lustrum, by using 'year - year %% 5'</span></span></span>
<span class="r-in"><span><span class="fu">group</span><span class="op">(</span><span class="fu"><a href="accessors.html">catch.n</a></span><span class="op">(</span><span class="va">ple4</span><span class="op">)</span>, <span class="va">mean</span>, year <span class="op">=</span> <span class="va">year</span> <span class="op">-</span> <span class="va">year</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An object of class "FLQuant"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , unit = unique, season = all, area = unique</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age  1955   1960   1965   1970   1975   1980   1985   1990   1995   2000  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   71809  97611  56285 142897 236660 287022 522676 151862 137448 165349</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2   77345 132710 165314 146039 193714 303164 535399 227921 301173 235426</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3   70668 134318 177300  83951 151557 200469 364165 214340 240943 187282</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4   53897  77485 102812  54228  77645  79913 183142 122345  71373 106119</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5   37029  42709  65547  35383  42043  32622  67189  88977  33588  50225</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   6   18876  26412  41723  22400  22713  15435  29589  44095  17259  21676</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   7   11647  13543  14706  21814  10821   9641  12152  17572   8772   7918</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   8    8069   8236   8886  13606   4790   6739   5394   7693   4638   2478</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   9    6493   5486   5791   9201   3280   3589   2705   4034   2400    747</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   10  14426  15599  14483  19574  11352   7199   6053   4972   4168   1691</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age  2005   2010   2015  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1  166916 161602 123926</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2  212184 181950 161119</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3  136160 163860 161994</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4   68691 108734 123839</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5   30263  53586  73302</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   6   15753  24526  39483</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   7    7192  11669  18796</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   8    2995   4802   7518</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   9     962   2073   3159</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   10   1532   4516   8326</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> units:  1000 </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Iago Mosqueira, Laurence T. Kell, Philippe Grosjean.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

